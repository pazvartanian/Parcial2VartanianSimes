<html>
<head>
<title>OcurrenciasExcluirPalabras.h</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #bbb529;}
.s3 { color: #6a8759;}
.s4 { color: #cc7832;}
.s5 { color: #6897bb;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
OcurrenciasExcluirPalabras.h</font>
</center></td></tr></table>
<pre><span class="s0">//</span>
<span class="s0">// Created by Usuario on 23/10/2022.</span>
<span class="s0">//</span>

<span class="s2">#ifndef </span><span class="s1">PARCIAL2_SIMESVARTANIAN_OCURRENCIASEXCLUIRPALABRAS_H</span>
<span class="s2">#define </span><span class="s1">PARCIAL2_SIMESVARTANIAN_OCURRENCIASEXCLUIRPALABRAS_H</span>
<span class="s2">#include</span><span class="s3">&lt;iostream&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;string&gt;</span>
<span class="s2">#include</span><span class="s3">&lt;fstream&gt;</span>
<span class="s2">#include </span><span class="s3">&quot;HashMap.h&quot;</span>
<span class="s2">#include </span><span class="s3">&lt;map&gt;</span>
<span class="s2">#include </span><span class="s3">&lt;sstream&gt;</span>
<span class="s0">//#include &quot;ContadorPalabrasLetrasRenglones.h&quot;</span>
<span class="s4">using namespace </span><span class="s1">std</span><span class="s4">;</span>
<span class="s4">void </span><span class="s1">quickSort3(</span><span class="s4">int  </span><span class="s1">arrn[]</span><span class="s4">, </span><span class="s1">std::string arrc[]</span><span class="s4">,  int </span><span class="s1">menor</span><span class="s4">, int </span><span class="s1">mayor )</span><span class="s4">;</span>


<span class="s0">//transformo los caracteres de la clave en numeros</span>
<span class="s4">unsigned int </span><span class="s1">miHashFunc3(string clave)</span>
<span class="s1">{  </span><span class="s4">const int </span><span class="s1">p= </span><span class="s5">31 </span><span class="s4">, </span><span class="s1">m= </span><span class="s5">1e9 </span><span class="s1">+ </span><span class="s5">7 </span><span class="s4">;</span>


    <span class="s4">int </span><span class="s1">key = </span><span class="s5">0 </span><span class="s4">;</span>
    <span class="s4">long </span><span class="s1">p_pow = </span><span class="s5">1 </span><span class="s4">;</span>

    <span class="s4">for </span><span class="s1">(</span><span class="s4">int </span><span class="s1">i=</span><span class="s5">0</span><span class="s4">; </span><span class="s1">i&lt;clave.length()</span><span class="s4">; </span><span class="s1">i++){</span>
        <span class="s1">clave[i]= tolower(clave[i])</span><span class="s4">;</span>
        <span class="s1">key += (key + (clave[i] - </span><span class="s3">'a' </span><span class="s1">+ </span><span class="s5">1 </span><span class="s1">) * p_pow) % m </span><span class="s4">; </span><span class="s0">//tolower nos cambia a minuscula</span>
        <span class="s1">p_pow = (p_pow * p )% m </span><span class="s4">;</span>

    <span class="s1">}</span>

    <span class="s4">return </span><span class="s1">key </span><span class="s4">;</span>
<span class="s1">}</span>
<span class="s4">void </span><span class="s1">Excluir (std::string palabra)</span>
<span class="s1">{</span>
    <span class="s1">cout&lt;&lt;</span><span class="s3">&quot;ENTRO A EXCLUIR UNA O UNAS PALABRAS&quot;</span><span class="s1">&lt;&lt;endl</span><span class="s4">;</span>
    <span class="s1">string filename = </span><span class="s3">&quot;C:</span><span class="s4">\\</span><span class="s3">Users</span><span class="s4">\\</span><span class="s3">Usuario</span><span class="s4">\\</span><span class="s3">Documents</span><span class="s4">\\</span><span class="s3">2do UCC</span><span class="s4">\\</span><span class="s3">Parcial2-SimesVartanian</span><span class="s4">\\</span><span class="s3">texto&quot;</span><span class="s4">;</span>
    <span class="s1">std::ifstream file</span><span class="s4">;</span>
    <span class="s1">file.open(filename</span><span class="s4">,</span><span class="s1">std::ios::in)</span><span class="s4">;</span>
    <span class="s4">int </span><span class="s1">cantp</span><span class="s4">;</span>
    <span class="s0">//ver como tener la cant de palabras</span>
    <span class="s1">cantp = </span><span class="s5">34</span><span class="s4">;</span>


    <span class="s1">HashMap&lt;std::string</span><span class="s4">, int</span><span class="s1">&gt; TH(cantp</span><span class="s4">, </span><span class="s1">&amp;miHashFunc3)</span><span class="s4">;</span>

    <span class="s4">if </span><span class="s1">(file.is_open()) {</span>
        <span class="s1">std::string word</span><span class="s4">, </span><span class="s1">linea</span><span class="s4">;</span>

        <span class="s4">while </span><span class="s1">(std::getline(file</span><span class="s4">, </span><span class="s1">linea)) {</span>

            <span class="s1">std::stringstream lineStream(linea)</span><span class="s4">;</span>
            <span class="s4">while </span><span class="s1">(std::getline(lineStream</span><span class="s4">, </span><span class="s1">word</span><span class="s4">, </span><span class="s3">' '</span><span class="s1">)) {</span>

                <span class="s1">TH.put(word</span><span class="s4">, </span><span class="s5">1</span><span class="s1">)</span><span class="s4">;</span>

            <span class="s1">}</span>
        <span class="s1">}</span>
    <span class="s1">}</span>


    <span class="s1">file.close()</span><span class="s4">;</span>
<span class="s0">//otra forma hacer quicksort con array fuera de los metodos del hash</span>
<span class="s0">//voy a pedirle al hash q me traiga dos arreglos uno con las claves otro con ocurrencias</span>
    <span class="s4">int </span><span class="s1">cantrepetidas=</span><span class="s5">0</span><span class="s4">;</span>
    <span class="s4">int </span><span class="s1">arrn[cantp]</span><span class="s4">;</span>
    <span class="s1">std::string arrc[cantp]</span><span class="s4">;</span>
    <span class="s1">cantrepetidas=TH.arregloconclaves(arrc</span><span class="s4">, </span><span class="s1">cantrepetidas)</span><span class="s4">;</span>
    <span class="s1">TH.arregloconocurrencias(arrn)</span><span class="s4">;</span>

    <span class="s1">quickSort3(arrn</span><span class="s4">, </span><span class="s1">arrc</span><span class="s4">,   </span><span class="s5">0</span><span class="s4">, </span><span class="s1">cantp-</span><span class="s5">1</span><span class="s1">)</span><span class="s4">;</span>



<span class="s1">cout&lt;&lt;</span><span class="s3">&quot; la palabra q no se puede poner es &quot;</span><span class="s1">&lt;&lt;palabra&lt;&lt;endl</span><span class="s4">;</span>
        <span class="s4">for </span><span class="s1">(</span><span class="s4">int </span><span class="s1">i=cantp-</span><span class="s5">1</span><span class="s4">; </span><span class="s1">i&gt;</span><span class="s5">0</span><span class="s4">; </span><span class="s1">i--)</span>
        <span class="s1">{</span>
            <span class="s4">if </span><span class="s1">(arrn[i]!=-</span><span class="s5">1 </span><span class="s1">&amp;&amp; arrc[i]!=palabra)</span>
                <span class="s1">cout&lt;&lt;</span><span class="s3">&quot;CLAVE &quot;</span><span class="s1">&lt;&lt;arrc[i]&lt;&lt;</span><span class="s3">&quot; OCURRENCIAS: &quot;</span><span class="s1">&lt;&lt;arrn[i]&lt;&lt;endl</span><span class="s4">;</span>

        <span class="s1">}</span>

<span class="s1">}</span>
<span class="s4">void </span><span class="s1">swap3(</span><span class="s4">int </span><span class="s1">arr[] </span><span class="s4">, int </span><span class="s1">pos1</span><span class="s4">, int </span><span class="s1">pos2){</span>
    <span class="s4">int </span><span class="s1">temp</span><span class="s4">;</span>
    <span class="s1">temp = arr[pos1]</span><span class="s4">;</span>
    <span class="s1">arr[pos1] = arr[pos2]</span><span class="s4">;</span>
    <span class="s1">arr[pos2] = temp</span><span class="s4">;</span>
<span class="s1">}</span>
<span class="s4">void </span><span class="s1">swap23(std::string arr[] </span><span class="s4">, int </span><span class="s1">pos1</span><span class="s4">, int </span><span class="s1">pos2){</span>
    <span class="s1">std::string temp</span><span class="s4">;</span>
    <span class="s1">temp = arr[pos1]</span><span class="s4">;</span>
    <span class="s1">arr[pos1] = arr[pos2]</span><span class="s4">;</span>
    <span class="s1">arr[pos2] = temp</span><span class="s4">;</span>
<span class="s1">}</span>

<span class="s4">int </span><span class="s1">partition3(</span><span class="s4">int </span><span class="s1">arr[]</span><span class="s4">, </span><span class="s1">std::string arrc[]</span><span class="s4">,  int </span><span class="s1">low</span><span class="s4">, int </span><span class="s1">high</span><span class="s4">, int </span><span class="s1">pivot){</span>
    <span class="s4">int </span><span class="s1">i = low</span><span class="s4">;</span>
    <span class="s4">int </span><span class="s1">j = low</span><span class="s4">;</span>
    <span class="s4">while</span><span class="s1">( i &lt;= high){</span>
        <span class="s4">if</span><span class="s1">(arr[i] &gt; pivot){</span>
            <span class="s1">i++</span><span class="s4">;</span>
        <span class="s1">}</span>
        <span class="s4">else</span><span class="s1">{</span>
            <span class="s1">swap3(arr</span><span class="s4">,</span><span class="s1">i</span><span class="s4">,</span><span class="s1">j)</span><span class="s4">;</span>
            <span class="s1">swap23(arrc</span><span class="s4">, </span><span class="s1">i</span><span class="s4">, </span><span class="s1">j)</span><span class="s4">;</span>
            <span class="s1">i++</span><span class="s4">;</span>
            <span class="s1">j++</span><span class="s4">;</span>
        <span class="s1">}</span>
    <span class="s1">}</span>
    <span class="s4">return </span><span class="s1">j-</span><span class="s5">1</span><span class="s4">;</span>
<span class="s1">}</span>

<span class="s4">void </span><span class="s1">quickSort3(</span><span class="s4">int </span><span class="s1">arr[]</span><span class="s4">, </span><span class="s1">std::string arrc[]</span><span class="s4">,  int </span><span class="s1">low</span><span class="s4">, int </span><span class="s1">high){</span>
    <span class="s4">if</span><span class="s1">(low &lt; high){</span>
        <span class="s4">int </span><span class="s1">pivot = arr[high]</span><span class="s4">;</span>
        <span class="s4">int </span><span class="s1">pos = partition(arr</span><span class="s4">, </span><span class="s1">arrc</span><span class="s4">,  </span><span class="s1">low</span><span class="s4">, </span><span class="s1">high</span><span class="s4">, </span><span class="s1">pivot)</span><span class="s4">;</span>

        <span class="s1">quickSort3(arr</span><span class="s4">, </span><span class="s1">arrc</span><span class="s4">, </span><span class="s1">low</span><span class="s4">, </span><span class="s1">pos-</span><span class="s5">1</span><span class="s1">)</span><span class="s4">;</span>
        <span class="s1">quickSort3(arr</span><span class="s4">,</span><span class="s1">arrc</span><span class="s4">,  </span><span class="s1">pos+</span><span class="s5">1</span><span class="s4">, </span><span class="s1">high)</span><span class="s4">;</span>
    <span class="s1">}</span>
<span class="s1">}</span>
<span class="s2">#endif </span><span class="s0">//PARCIAL2_SIMESVARTANIAN_OCURRENCIASEXCLUIRPALABRAS_H</span>
</pre>
</body>
</html>